<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proje Ekle</title>
    <link rel="stylesheet" href="/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Playwrite+NG+Modern:wght@100..400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Libre+Baskerville&display=swap");

        svg {
            font-family: "Libre Baskerville", sans-serif;
            width: 100%; height: 100%;
        }
        svg text {
            animation: stroke 5s infinite alternate;
            stroke-width: 2;
            stroke: #365FA0;
            font-size: 70px;
        }
        @keyframes stroke {
            0%   {
                fill: rgba(72,138,204,0); stroke: rgba(54,95,160,1);
                stroke-dashoffset: 25%; stroke-dasharray: 0 50%; stroke-width: 2;
            }
            70%  {fill: rgba(72,138,204,0); stroke: rgba(54,95,160,1); }
            80%  {fill: rgba(72,138,204,0); stroke: rgba(54,95,160,1); stroke-width: 3; }
            100% {
                fill: rgba(72,138,204,1); stroke: rgba(54,95,160,0);
                stroke-dashoffset: -25%; stroke-dasharray: 50% 0; stroke-width: 0;
            }
        }

        .wrapper {background-color: #F6F6F6 ;
            border-radius: 50px;
            height: 105px;};

    </style>
</head>
<body class="bg-light">

    <nav class="navbar navbar-expand-lg navbar-light bg-lightt fixed-left golge" style="flex-direction: column;">
        <div class="container h-100" style="flex-direction: column;">
            <a class="navbar-brand" href="/index" style="font-family: 'Dancing Script'; font-size: xx-large;"><img src="/img/developer.png" alt="" style="height:50px;">Panel</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="navbar-lists collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav p-3" style="flex-direction: column;">
                    <span class="sidebar-ul-baslik">- TABLOLAR</span>
                    <li class="nav-item">
                        <a class="nav-link" href="/index"><i class="sidebar-icons fa-solid fa-chart-line"></i>İstatistik Paneli</a>
                    </li>
                    <span class="sidebar-ul-baslik">- PROJE</span>
                    <li class="nav-item">
                        <a class="nav-link active" href="/ekle"><i class="sidebar-icons fa-solid fa-plus"></i>Proje Ekle</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/goster"><i class="sidebar-icons fa-solid fa-eye"></i>Projelerimi Göster</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/duzenle"><i class="sidebar-icons fa-solid fa-pen"></i>Projemi Düzenle</a>
                    </li>
                    <span class="sidebar-ul-baslik">- AYARLAR</span>
                    <li class="nav-item">
                        <a class="nav-link" href="/ayarlar"><i class="sidebar-icons fa-solid fa-gear"></i>Hesap Ayarları</a>
                    </li>
                </ul>
                <div class="sidebar-exit mb-3"><a href="/login"><i class="fa-solid fa-arrow-right-from-bracket fa-rotate-180" style="color: #f20d0d;"></i></a></div>
            </div>
        </div>
    </nav>

    <div class="padding-left">
        <div class="container mt-5">
            <div class="wrapper">
                <svg>
                    <text x="50%" y="50%" dy=".35em" text-anchor="middle">
                        Proje Ekle
                    </text>
                </svg>
            </div>
            <div class="card shadow golge mt-5 border-0 p-4">
                <h2 class="text-center mb-4"></h2>
                <form action="/ekle" method="POST" enctype="multipart/form-data">
                    <div class="mb-3">
                        <label class="form-label">Proje Adı:</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-user"></i></span>
                            <input type="text" name="projeAdi" class="form-control" placeholder="Node.js projesi" required>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label">Proje Sayısı:</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-building"></i></span>
                            <input type="text" name="projeSayisi" class="form-control" placeholder="Ör:1" required>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Açıklama:</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                            <textarea name="projeAciklamasi" class="form-control" rows="3"></textarea>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Başlangıç Tarihi:</label>
                        <div class="input-group">
                            <input type="date" name="baslangicTarihi" class="form-control" required>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Tamamlanma Oranı (%):</label>
                        <input type="range" name="tamamlanmaOrani" class="form-range" min="0" max="100" oninput="updateProgressValue(this.value)" required>
                        <span id="progress-value">0%</span>
                    </div>

                    <!-- Sürükle Bırak Alanı -->
                    <div class="mb-3">
                        <label class="form-label">Proje Fotoğrafları</label>
                        <div id="drop-area" class="drop-area">
                            <p>Resimleri buraya sürükleyin veya tıklayarak seçin</p>
                            <input type="file" id="fileInput" name="resimler" multiple required>
                        </div>
                        <div id="preview" class="preview"></div>
                    </div>

                    <div class="text-center">
                        <button type="submit" class="btn btn-primary">Proje Ekle</button>
                    </div>
                </form>
            </div>
        </div>
        <footer class="footer-projeEkle footer bg-footer-theme">
            <div class="container d-flex flex-wrap justify-content-between py-2 flex-md-row flex-column">
              <div class="mb-2 mb-md-0">
                <img src="/img/code.png" width="50px" height="50px" alt="">
                ©
                <script>
                  document.write(new Date().getFullYear());
                </script>
                Azra Şimşek
              </div>
              <div>
                <a href="/index" class="footer-link me-4" target="_blank">Anasayfa</a>
                <a href="/projeler" target="_blank" class="footer-link me-4">Projeler</a>
                <a href="/ayarlar" target="_blank" class="footer-link me-4">Ayarlar</a>
              </div>
            </div>
        </footer>
    </div>
        
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const dropArea = document.getElementById("drop-area");
            const fileInput = document.getElementById("fileInput");
            const preview = document.getElementById("preview");

            // Dosya sürükleyerek bırakma
            dropArea.addEventListener("dragover", (event) => {
                event.preventDefault();
                dropArea.style.backgroundColor = "#f2ebff";
            });

            dropArea.addEventListener("dragleave", () => {
                dropArea.style.backgroundColor = "#bcabdc";
            });

            dropArea.addEventListener("drop", (event) => {
                event.preventDefault();
                dropArea.style.backgroundColor = "#f2ebff";

                fileInput.files = event.dataTransfer.files;
                showPreview(fileInput.files);
            });

            // Dosya seçildiğinde önizleme gösterme
            fileInput.addEventListener("change", () => {
                showPreview(fileInput.files);
            });

            function showPreview(files) {
                preview.innerHTML = "";
                Array.from(files).forEach((file) => {
                    const img = document.createElement("img");
                    img.src = URL.createObjectURL(file);
                    preview.appendChild(img);
                });
            }
    });


        function updateProgressValue(value) {
            document.getElementById("progress-value").textContent = value + "%";
            applyFilters(data); // Filtreyi uygulama
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>